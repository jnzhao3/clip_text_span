/home/eecs/shuoyuan/proj/clip_text_span
ace
Sun Apr 13 16:16:52 PDT 2025
starting job...
The token has not been saved to the git credentials helper. Pass `add_to_git_credential=True` in this function directly or `--add-to-git-credential` if using via `huggingface-cli` if you want to set the git credential as well.
Token is valid (permission: fineGrained).
The token `imagenet` has been saved to /home/eecs/shuoyuan/../../../data/wong.justin/openalphaproof/.cache/huggingface/stored_tokens
Your token has been saved to /home/eecs/shuoyuan/../../../data/wong.justin/openalphaproof/.cache/huggingface/token
Login successful.
Note: Environment variable`HF_TOKEN` is set and is the current active token independently from the token you've just configured.
/home/eecs/shuoyuan/miniconda3/envs/prsclip/lib/python3.12/site-packages/timm/models/layers/__init__.py:48: FutureWarning: Importing from timm.models.layers is deprecated, please import via timm.layers
  warnings.warn(f"Importing from {__name__} is deprecated, please import via timm.layers", FutureWarning)
Number of layers: 24
  0%|          | 0/20 [00:00<?, ?it/s]  5%|▌         | 1/20 [00:00<00:02,  7.50it/s] 10%|█         | 2/20 [00:00<00:02,  7.64it/s] 15%|█▌        | 3/20 [00:00<00:02,  7.69it/s] 20%|██        | 4/20 [00:00<00:02,  7.70it/s] 25%|██▌       | 5/20 [00:00<00:01,  7.72it/s] 30%|███       | 6/20 [00:00<00:01,  7.71it/s] 35%|███▌      | 7/20 [00:00<00:01,  7.71it/s] 40%|████      | 8/20 [00:01<00:01,  7.71it/s] 45%|████▌     | 9/20 [00:01<00:01,  7.71it/s] 50%|█████     | 10/20 [00:01<00:01,  7.71it/s] 55%|█████▌    | 11/20 [00:01<00:01,  7.72it/s] 60%|██████    | 12/20 [00:01<00:01,  7.72it/s] 65%|██████▌   | 13/20 [00:01<00:00,  7.73it/s] 70%|███████   | 14/20 [00:01<00:00,  7.73it/s] 75%|███████▌  | 15/20 [00:01<00:00,  7.73it/s] 80%|████████  | 16/20 [00:02<00:00,  7.73it/s] 85%|████████▌ | 17/20 [00:02<00:00,  7.70it/s] 90%|█████████ | 18/20 [00:02<00:00,  7.66it/s] 95%|█████████▌| 19/20 [00:02<00:00,  7.68it/s]100%|██████████| 20/20 [00:02<00:00,  7.70it/s]100%|██████████| 20/20 [00:02<00:00,  7.70it/s]
  0%|          | 0/4 [00:00<?, ?it/s]/home/eecs/shuoyuan/proj/clip_text_span/compute_complete_text_set.py:37: UserWarning: The use of `x.T` on tensors of dimension other than 2 to reverse their shape is deprecated and it will throw an error in a future release. Consider `x.mT` to transpose batches of matrices or `x.permute(*torch.arange(x.ndim - 1, -1, -1))` to reverse the dimensions of a tensor. (Triggered internally at /pytorch/aten/src/ATen/native/TensorShape.cpp:3725.)
  text_norm = text_features[top_n] @ text_features[top_n].T
 25%|██▌       | 1/4 [00:11<00:33, 11.33s/it] 50%|█████     | 2/4 [00:21<00:21, 10.73s/it] 75%|███████▌  | 3/4 [00:31<00:10, 10.28s/it]100%|██████████| 4/4 [00:40<00:00,  9.87s/it]100%|██████████| 4/4 [00:40<00:00, 10.16s/it]
Current accuracy: 0.5700000000000001 
Number of texts: 480
